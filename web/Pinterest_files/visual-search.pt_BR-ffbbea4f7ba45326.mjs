(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[14865],{781728:(e,l,a)=>{"use strict";var n,i,t,s,r,o,u,d,c,g,p,m,h,y,k,_,S,F,f,T,x,P,K,b,v,L,E,w,A,C,D,I,j,M,R,O,N,H,Z,U;a.r(l),a.d(l,{default:()=>z});let B=(n={defaultValue:null,kind:"LocalArgument",name:"isDesktop"},i={defaultValue:null,kind:"LocalArgument",name:"pinId"},t=[{kind:"Variable",name:"pin",variableName:"pinId"}],s={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},r=[{kind:"Literal",name:"spec",value:"736x"}],g={alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},p={alias:null,args:null,kind:"ScalarField",name:"imageSignature",storageKey:null},m={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},h={alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null},y={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},k={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},_={alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},S=[c={alias:null,args:null,kind:"ScalarField",name:"dominantColor",storageKey:null},u={alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},o={alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},d={alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],F=[{kind:"Literal",name:"spec",value:"236x"}],f=[{kind:"Literal",name:"spec",value:"474x"}],b={alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},v=[m,T={alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null},K={alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},k,x={alias:null,args:null,kind:"ScalarField",name:"imageMediumUrl",storageKey:null},P={alias:null,args:null,kind:"ScalarField",name:"imageSmallUrl",storageKey:null}],L=[y,o],E=[s],w={alias:null,args:null,concreteType:"OfferSummary",kind:"LinkedField",name:"offerSummary",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"maxPrice",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"minPrice",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"price",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"standardPrice",storageKey:null}],storageKey:null},A={alias:"productId",args:null,kind:"ScalarField",name:"id",storageKey:null},I={alias:"image236x",args:F,concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:D=[{alias:null,args:null,concreteType:"Thumbnails",kind:"LinkedField",name:"canonicalImage",plural:!1,selections:C=[u,o,d],storageKey:null},p],storageKey:'additionalImagesPerSpec(spec:"236x")'},j={alias:"image474x",args:f,concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:D,storageKey:'additionalImagesPerSpec(spec:"474x")'},R={alias:"image564x",args:M=[{kind:"Literal",name:"spec",value:"564x"}],concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:D,storageKey:'additionalImagesPerSpec(spec:"564x")'},O={alias:"image736x",args:r,concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:D,storageKey:'additionalImagesPerSpec(spec:"736x")'},N={alias:"entityId",args:null,kind:"ScalarField",name:"id",storageKey:null},H={alias:null,args:null,kind:"ScalarField",name:"thumbnail",storageKey:null},Z=[T,k],U=[o],{fragment:{argumentDefinitions:[n,i],kind:"Fragment",metadata:null,name:"MobileFlashlightPageFetchDataPinQuery",selections:[{alias:null,args:t,concreteType:null,kind:"LinkedField",name:"v3GetPinQuery",plural:!1,selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Pin",kind:"LinkedField",name:"data",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"MobileFlashlightPageFetchData_pin"}],storageKey:null}],type:"V3GetPin",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[i,n],kind:"Operation",name:"MobileFlashlightPageFetchDataPinQuery",selections:[{alias:null,args:t,concreteType:null,kind:"LinkedField",name:"v3GetPinQuery",plural:!1,selections:[s,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Pin",kind:"LinkedField",name:"data",plural:!1,selections:[{alias:"imageSpec_736x",args:r,concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:[o,u,d,c],storageKey:'images(spec:"736x")'},{alias:null,args:null,concreteType:"StelaVisualObject",kind:"LinkedField",name:"visualObjects",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"isStela",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"label",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"labelId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"labelX",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"labelY",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"maxAnnotationNumDocuments",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"showOnCloseup",storageKey:null},g,{alias:null,args:null,kind:"ScalarField",name:"score",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"x",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"y",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"h",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"w",storageKey:null}],storageKey:null},c,p,m,{alias:null,args:null,kind:"ScalarField",name:"adMatchReason",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"advertiserId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"altText",storageKey:null},{alias:null,args:null,concreteType:"Attribution",kind:"LinkedField",name:"attribution",plural:!1,selections:[{alias:null,args:null,concreteType:"Embed",kind:"LinkedField",name:"embed",plural:!1,selections:[h],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"adDestinationUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"attributionSourceId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"autoAltText",storageKey:null},{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:[m,{alias:null,args:null,kind:"ScalarField",name:"followedByMe",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isCollaborative",storageKey:null},y,{alias:null,args:null,kind:"ScalarField",name:"privacy",storageKey:null},o,k,{alias:null,args:null,kind:"ScalarField",name:"layout",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"campaignId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"category",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"closeupDescription",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"closeupUnifiedDescription",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"debug",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"descriptionHtml",storageKey:null},_,{alias:null,args:null,kind:"ScalarField",name:"domain",storageKey:null},{alias:null,args:null,concreteType:"Embed",kind:"LinkedField",name:"embed",plural:!1,selections:[u,{alias:null,args:null,kind:"ScalarField",name:"src",storageKey:null},h,d],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"gridTitle",storageKey:null},{alias:null,args:null,concreteType:"ImageCrop",kind:"LinkedField",name:"imageCrop",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"maxY",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"minY",storageKey:null}],storageKey:null},{alias:"imageSpec_136x136",args:[{kind:"Literal",name:"spec",value:"136x136"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:S,storageKey:'images(spec:"136x136")'},{alias:"imageSpec_170x",args:[{kind:"Literal",name:"spec",value:"170x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:S,storageKey:'images(spec:"170x")'},{alias:"imageSpec_236x",args:F,concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:S,storageKey:'images(spec:"236x")'},{alias:"imageSpec_474x",args:f,concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:S,storageKey:'images(spec:"474x")'},{alias:"imageSpec_orig",args:[{kind:"Literal",name:"spec",value:"orig"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:S,storageKey:'images(spec:"orig")'},{alias:null,args:null,kind:"ScalarField",name:"isDownstreamPromotion",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isEligibleForPdp",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isOosProduct",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isPromoted",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isStaleProduct",storageKey:null},{alias:null,args:null,concreteType:"Domain",kind:"LinkedField",name:"linkDomain",plural:!1,selections:[s,k,{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"officialUser",plural:!1,selections:[T,k,x,m,P,{alias:null,args:null,kind:"ScalarField",name:"isPrimaryWebsiteVerified",storageKey:null},K],storageKey:null}],storageKey:null},b,{alias:null,args:null,kind:"ScalarField",name:"mobileLink",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"nativeCreator",plural:!1,selections:v,storageKey:null},{alias:null,args:null,concreteType:"PinJoin",kind:"LinkedField",name:"pinJoin",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"visualAnnotation",storageKey:null},{alias:null,args:null,concreteType:"AnnotationsWithLinks",kind:"LinkedField",name:"annotationsWithLinksArray",plural:!0,selections:L,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"shoppingKlpUrls",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"pinnedToBoard",plural:!1,selections:[m,k],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:[m,{alias:null,args:null,kind:"ScalarField",name:"explicitlyFollowedByMe",storageKey:null},T,K,k,P,{alias:null,args:null,kind:"ScalarField",name:"imageLargeUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isVerifiedMerchant",storageKey:null},{alias:null,args:null,concreteType:"VerifiedIdentity",kind:"LinkedField",name:"verifiedIdentity",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"verified",storageKey:null}],storageKey:null},s,x],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"promoter",plural:!1,selections:[m,T,K,k,s,x,P],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"promotedIsRemovable",storageKey:null},{alias:null,args:null,concreteType:"ReactionCountModel",kind:"LinkedField",name:"reactionCountsData",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"reactionType",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"reactionCount",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[_,g,{alias:null,args:null,concreteType:"ArticleMetadata",kind:"LinkedField",name:"article",plural:!1,selections:E,storageKey:null},{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:[s,y,w,{alias:null,args:null,concreteType:"Brand",kind:"LinkedField",name:"brand",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"signature",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"ShippingInfo",kind:"LinkedField",name:"shippingInfo",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"freeShippingPrice",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"freeShippingValue",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"ProductVariantSet",kind:"LinkedField",name:"variantSet",plural:!1,selections:[{alias:null,args:null,concreteType:"DimensionMetadata",kind:"LinkedField",name:"dimensionMetadata",plural:!0,selections:[y,{alias:null,args:null,kind:"ScalarField",name:"values",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"ProductVariant",kind:"LinkedField",name:"variants",plural:!0,selections:E,storageKey:null}],storageKey:null},A,I,j,R,O],storageKey:null},{alias:null,args:null,concreteType:"RecipeMetadata",kind:"LinkedField",name:"recipe",plural:!1,selections:[s,{alias:null,args:null,kind:"ScalarField",name:"fromAggregatedData",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinGridData",kind:"LinkedField",name:"richSummary",plural:!1,selections:[{alias:null,args:null,concreteType:"AggregateRatingMetadata",kind:"LinkedField",name:"aggregateRating",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"bestRating",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"ratingValue",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"reviewCount",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"displayCookTime",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"displayName",storageKey:null},{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:[y,w,{alias:null,args:null,kind:"ScalarField",name:"itemId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"itemSetId",storageKey:null},{alias:null,args:null,concreteType:"Brand",kind:"LinkedField",name:"brand",plural:!1,selections:[y],storageKey:null},A,I,j,R,O],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"siteName",storageKey:null},o,{alias:null,args:null,kind:"ScalarField",name:"typeName",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"seoUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"shoppingFlags",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"shouldOpenInStream",storageKey:null},{alias:null,args:null,concreteType:"Interest",kind:"LinkedField",name:"sourceInterest",plural:!1,selections:[m,y,{alias:null,args:null,kind:"ScalarField",name:"urlName",storageKey:null},k],storageKey:null},{alias:null,args:null,concreteType:"Sponsorship",kind:"LinkedField",name:"sponsorship",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"creator",plural:!1,selections:v,storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"sponsor",plural:!1,selections:v,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"status",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"storyPinDataId",storageKey:null},{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"hasProductPins",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isDeleted",storageKey:null},{alias:null,args:null,concreteType:"StoryPinMetadataField",kind:"LinkedField",name:"metadata",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"pinTitle",storageKey:null}],storageKey:null},k,s,{alias:null,args:null,kind:"ScalarField",name:"staticPageCount",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"totalVideoDuration",storageKey:null},{alias:null,args:null,concreteType:"StoryPinPage",kind:"LinkedField",name:"pages",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"blocks",plural:!0,selections:[s,{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"blockType",storageKey:null},{alias:null,args:null,concreteType:"StoryPinVideoMetadata",kind:"LinkedField",name:"video",plural:!1,selections:[N,{alias:null,args:null,concreteType:"StoryPinVideoFormats",kind:"LinkedField",name:"videoList",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"vHLSV3MOBILE",plural:!1,selections:[u,H,d,o],storageKey:null}],storageKey:null}],storageKey:null}],type:"StoryPinVideoBlock",abstractKey:null}],storageKey:null}],storageKey:null}],storageKey:null},g,{alias:null,args:null,kind:"ScalarField",name:"trackedLink",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"trackingParams",storageKey:null},{alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"videos",plural:!1,selections:[m,{alias:null,args:null,concreteType:"VideoList",kind:"LinkedField",name:"videoList",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"v720P",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"duration",storageKey:null},u,d,o,s],storageKey:null},{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"vHLSV4",plural:!1,selections:[s,u,H,o,d],storageKey:null},s,{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"vHLSV3MOBILE",plural:!1,selections:E,storageKey:null}],storageKey:null},k,s],storageKey:null},{alias:null,args:null,concreteType:"PinRecommendationReason",kind:"LinkedField",name:"recommendationReason",plural:!1,selections:[{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:[y,o,k],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"reason",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"reasonId",storageKey:null},{alias:null,args:null,concreteType:"PinThroughProperties",kind:"LinkedField",name:"throughProperties",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"data",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"key",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PinCarouselData",kind:"LinkedField",name:"carouselData",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"index",storageKey:null},{alias:null,args:null,concreteType:"PinCarouselSlot",kind:"LinkedField",name:"carouselSlots",plural:!0,selections:[g,{alias:null,args:null,kind:"ScalarField",name:"details",storageKey:null},b,N,{alias:"slotId",args:null,kind:"ScalarField",name:"id",storageKey:null},p,{alias:"imagesSpec_236x",args:F,concreteType:"Thumbnails",kind:"LinkedField",name:"images",plural:!1,selections:C,storageKey:'images(spec:"236x")'},{alias:"image236x",args:F,concreteType:"Thumbnails",kind:"LinkedField",name:"images",plural:!1,selections:C,storageKey:'images(spec:"236x")'},{alias:"image474x",args:f,concreteType:"Thumbnails",kind:"LinkedField",name:"images",plural:!1,selections:C,storageKey:'images(spec:"474x")'},{alias:"image564x",args:M,concreteType:"Thumbnails",kind:"LinkedField",name:"images",plural:!1,selections:C,storageKey:'images(spec:"564x")'},{alias:"image736x",args:r,concreteType:"Thumbnails",kind:"LinkedField",name:"images",plural:!1,selections:C,storageKey:'images(spec:"736x")'}],storageKey:null},k,{alias:"carouselDataId",args:null,kind:"ScalarField",name:"id",storageKey:null},m,s],storageKey:null},{alias:null,args:null,concreteType:"AdTargetingAttribution",kind:"LinkedField",name:"adTargetingAttribution",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"geoPostalCode",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"geoRegion",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isCustomerListMatched",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isShoppingRetargetingMatched",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isActalikeMatched",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isEngagementMatched",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isExpandTargetingMatched",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isFromGpsLocation",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isVisitorMatched",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isShoppingProspectingMatched",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isPlPersonaMatched",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"matchedAgeBucket",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"matchedDevice",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"matchedGender",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"matchedInterest",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"matchedKeyword",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"matchedLocale",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isFirstPartyAdPersonalizationEnabled",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isThirdPartyAdPersonalizationEnabled",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"promotedPartnershipAdvertiserName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"promotedPartnershipAttributionName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isEligibleForPromotedPartnership",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"digitalMediaSourceType",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isEligibleForWebCloseup",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"promotedIsLeadAd",storageKey:null},{alias:null,args:null,concreteType:"AdData",kind:"LinkedField",name:"adData",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"ceAltImageSignature",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"excludeFromGridRepTests",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"collectionGridClickType",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"dpaCreativeType",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isThirdPartyAd",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"pinPromotionId",storageKey:null},{alias:null,args:null,concreteType:"PromotedLeadForm",kind:"LinkedField",name:"promotedLeadForm",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"leadFormId",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"AggregatedPinData",kind:"LinkedField",name:"aggregatedPinData",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"isShopTheLook",storageKey:null},k,{alias:null,args:null,concreteType:"PinTagChipImagesPerSpec",kind:"LinkedField",name:"pinTagsChips",plural:!0,selections:[s,N,{alias:null,args:null,concreteType:"Thumbnails",kind:"LinkedField",name:"image",plural:!1,selections:C,storageKey:null},b],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isRepin",storageKey:null},{alias:null,args:null,concreteType:"UserWebsite",kind:"LinkedField",name:"linkUserWebsite",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"officialUser",plural:!1,selections:Z,storageKey:null},k],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"originPinner",plural:!1,selections:Z,storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"viaPinner",plural:!1,selections:Z,storageKey:null},{alias:"image236x",args:F,concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:C,storageKey:'images(spec:"236x")'},{alias:"image474x",args:f,concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:C,storageKey:'images(spec:"474x")'},{alias:"image564x",args:M,concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:C,storageKey:'images(spec:"564x")'},{alias:"image736x",args:r,concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:C,storageKey:'images(spec:"736x")'},{alias:"imageSpec_60x60",args:[{kind:"Literal",name:"spec",value:"60x60"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:U,storageKey:'images(spec:"60x60")'},{alias:"imageSpec_564x",args:M,concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:U,storageKey:'images(spec:"564x")'},{alias:"imageSpec_600x315",args:[{kind:"Literal",name:"spec",value:"600x315"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:U,storageKey:'images(spec:"600x315")'},{alias:null,args:null,concreteType:"CollectionPin",kind:"LinkedField",name:"collectionPin",plural:!1,selections:[{alias:null,args:null,concreteType:"CollectionPinItem",kind:"LinkedField",name:"itemData",plural:!0,selections:[s,{alias:null,args:null,kind:"ScalarField",name:"pinId",storageKey:null},{alias:null,args:[{kind:"Literal",name:"spec",value:"750x"}],concreteType:"Thumbnails",kind:"LinkedField",name:"images",plural:!1,selections:[o,d,u],storageKey:'images(spec:"750x")'},b],storageKey:null}],storageKey:null},k,{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"__id",storageKey:null}]},{condition:"isDesktop",kind:"Condition",passingValue:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"isUnsafe",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"originPinner",plural:!1,selections:[K],storageKey:null},{alias:null,args:null,concreteType:"PinJoin",kind:"LinkedField",name:"pinJoin",plural:!1,selections:[{alias:null,args:null,concreteType:"SeoBreadcrumbs",kind:"LinkedField",name:"seoBreadcrumbs",plural:!0,selections:L,storageKey:null}],storageKey:null}]}],storageKey:null}],type:"V3GetPin",abstractKey:null}],storageKey:null}]},params:{id:"2d8051df6268f30c680884329bcf45defc68edb76dae522c89291bced4a1a1e5",metadata:{},name:"MobileFlashlightPageFetchDataPinQuery",operationKind:"query",text:null}});B.hash="24f47f5e11202798553cf93515f7c3c2";let z=B;!function(e){if("query"===e.params.operationKind){if(window.__pwsCacheRelayConcreteRequest)window.__pwsCacheRelayConcreteRequest(e);else{let l=[e.params.name,e.params.id].join(":");window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__=window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__||{},window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__[l]=e}}}(B.default||B)},328898:(e,l,a)=>{"use strict";a.r(l),a.d(l,{default:()=>i});let n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"MobileFlashlightPageFetchData_pin",selections:[{args:null,kind:"FragmentSpread",name:"MobileFlashlightPage_pin"}],type:"Pin",abstractKey:null};n.hash="df8cf9d2521b1a82156cc4ecd7b04884";let i=n},521990:(e,l,a)=>{"use strict";a.r(l),a.d(l,{default:()=>i});let n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"MobileFlashlightPage_pin",selections:[{alias:"imageSpec_736x",args:[{kind:"Literal",name:"spec",value:"736x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:'images(spec:"736x")'},{alias:null,args:null,concreteType:"StelaVisualObject",kind:"LinkedField",name:"visualObjects",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"isStela",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"label",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"labelId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"labelX",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"labelY",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"maxAnnotationNumDocuments",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"showOnCloseup",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"score",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"x",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"y",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"h",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"w",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"dominantColor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageSignature",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{args:null,kind:"FragmentSpread",name:"UnifiedPinRep_pin"}],type:"Pin",abstractKey:null};n.hash="34375a91362d60921eb61956e01bf8f5";let i=n},706737:(e,l,a)=>{(window.__PWS_LOADED_HANDLERS__=window.__PWS_LOADED_HANDLERS__||[]).push(["www/pin/[id]/visual-search",function(){return a(925e3).Z}])},207993:(e,l,a)=>{"use strict";a.d(l,{Z:()=>i});var n=a(785893);let i=(0,n.jsx)("svg",{fill:"none",height:"5",viewBox:"0 0 37 5",width:"37",xmlns:"http://www.w3.org/2000/svg",children:(0,n.jsx)("rect",{fill:"#E9E9E9",height:"5",rx:"2.5",width:"37"})})},262032:(e,l,a)=>{"use strict";a.d(l,{Z:()=>r});var n=a(667294),i=a(883119);let t=(0,n.createContext)();var s=a(785893);function r(e){(0,n.useContext)(t);let{alt:l,color:a,children:r,crossOrigin:o,decoding:u,elementTiming:d,fetchPriority:c,fit:g,loading:p,naturalHeight:m,naturalWidth:h,onError:y,onLoad:k,role:_,sizes:S,src:F,srcSet:f,_fixCompletedOnLoad:T}=e;return(0,s.jsx)(i.Ee,{_fixCompletedOnLoad:T,alt:l,color:a,crossOrigin:o,decoding:u,elementTiming:d,fetchPriority:c,fit:g,loading:p,naturalHeight:m,naturalWidth:h,onError:y,onLoad:k,role:_,sizes:S,src:F,srcSet:f,children:r})}},317540:(e,l,a)=>{"use strict";a.d(l,{Z:()=>n});let n={BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,F5:116,HOME:36,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}},448318:(e,l,a)=>{"use strict";a.d(l,{Z:()=>o});var n=a(667294),i=a(262032),t=a(785893);let s=e=>document.querySelector(`img[src="${e}"]`)||null,r=(e,l,a)=>{let i=(0,n.useRef)(null),t=(0,n.useRef)(null);(0,n.useEffect)(()=>{if(e!==i.current||a&&a!==t.current){i.current=e;let a=s(e);a?.complete&&l()}t.current=a},[e,l,a])};function o({alt:e,children:l,color:a,elementTiming:n,fetchPriority:s,isActive:o=!1,naturalHeight:u,naturalWidth:d,onLoad:c,src:g,fit:p="none",srcSet:m}){return r(g,c,o),(0,t.jsx)(i.Z,{alt:e,color:a,elementTiming:n,fetchPriority:s,fit:p,naturalHeight:u,naturalWidth:d,onLoad:c,src:g,srcSet:m,children:l})}},55202:(e,l,a)=>{"use strict";a.d(l,{U:()=>s,Z:()=>r});var n=a(317540),i=a(785893);let t=()=>{},s=e=>{e.stopPropagation(),e.nativeEvent&&e.nativeEvent.stopImmediatePropagation&&e.nativeEvent.stopImmediatePropagation()};function r({allowClickAndDrag:e,allowEsc:l,allowMediaPlay:a,allowScroll:r,children:o}){let u=e=>{l&&e.keyCode===n.Z.ESCAPE||s(e)};return(0,i.jsx)("div",{onAbort:s,onAnimationEnd:s,onAnimationIteration:s,onAnimationStart:s,onBlur:t,onCanPlay:a?t:s,onCanPlayThrough:s,onChange:s,onClick:e?t:s,onCompositionEnd:s,onCompositionStart:s,onCompositionUpdate:s,onContextMenu:s,onCopy:s,onCut:s,onDoubleClick:s,onDurationChange:s,onEmptied:s,onEncrypted:s,onEnded:s,onError:s,onFocus:t,onInput:s,onInvalid:s,onKeyDown:u,onKeyPress:u,onKeyUp:u,onLoad:s,onLoadedData:s,onLoadedMetadata:s,onLoadStart:s,onMouseDown:s,onMouseEnter:s,onMouseLeave:s,onMouseMove:e?t:s,onMouseOut:s,onMouseOver:s,onMouseUp:e?t:s,onPaste:s,onPause:s,onPlay:s,onPlaying:s,onProgress:s,onRateChange:s,onScroll:r?t:s,onSeeked:s,onSeeking:s,onSelect:s,onStalled:s,onSubmit:s,onSuspend:s,onTimeUpdate:s,onTouchCancel:s,onTouchEnd:e?t:s,onTouchMove:e?t:s,onTouchStart:e?t:s,onTransitionEnd:s,onVolumeChange:s,onWaiting:s,onWheel:s,children:o})}},760101:(e,l,a)=>{"use strict";a.d(l,{G:()=>r,Z:()=>o});var n=a(667294),i=a(616550),t=a(785893);let s=(0,n.createContext)(!0);function r({children:e}){let l=(0,i.TH)(),[a,r]=(0,n.useState)(!0),o=(0,n.useRef)(l);return(0,n.useEffect)(()=>{o.current!==l&&(o.current=l,r(!1))},[l]),(0,t.jsx)(s.Provider,{value:a,children:e})}function o(){return(0,n.useContext)(s)}},429218:(e,l,a)=>{"use strict";a.d(l,{Z:()=>i});var n=a(667294);let i=()=>{let e=(0,n.useRef)(!1);return(0,n.useEffect)(()=>(e.current=!0,()=>{e.current=!1}),[]),e}},810052:(e,l,a)=>{"use strict";a.d(l,{D:()=>n,a:()=>i});let{Provider:n,useMaybeHook:i}=(0,a(342513).Z)("unauthPageWrapperContext")},336184:(e,l,a)=>{"use strict";a.d(l,{Z:()=>F});var n=a(667294),i=a(883119),t=a(140017),s=a(448318),r=a(5859),o=a(71328),u=a(554786),d=a(760101),c=a(894965),g=a(785893);function p({children:e,isImagePinForUnauthOnTablet:l}){let{isAuthenticated:a}=(0,r.B)();return(0,g.jsxs)(i.xu,{alignItems:"center",bottom:!0,dangerouslySetInlineStyle:{__style:{cursor:"pointer",width:l?"40vw":void 0}},display:"flex",justifyContent:"center",left:!0,position:"absolute",right:!l||void 0,top:!0,zIndex:a?void 0:c.e,children:[(0,g.jsx)(i.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{backgroundColor:"#000",borderRadius:"6px 6px 0 0",WebkitTransition:"opacity .04s linear",transition:"opacity .04s linear"}},left:!0,opacity:.4,position:"absolute",right:!0,top:!0}),e]})}var m=a(48481),h=a(217058),y=a(623409);function k({setShowClickthroughOverlay:e,isEligibleForPdp:l,isEligibleForDesktopSocialInviteOverlay:a,inviterFirstName:s}){let r=(0,t.ZP)(),o=(0,y.Z)(),d=(0,m.Z)(),c=(0,n.useRef)(),p="desktop"===(0,u.ZP)(),k=s&&a,_=k&&(r.bt("Crie uma conta e faça como {{ name }} no Pinterest", "Sign up to join {{ name }} on Pinterest", "pin.closeup.wash.desktop.shareNotification", undefined, true)).replace("{{ name }}",s),S=r.bt("Clique para aproveitar essa ideia ao máximo com uma conta gratuita", "Click to make the most out of this idea with a free account", "web.unauth.plp.clickable_wash.header", undefined, true),F=r.bt("Toque para aproveitar essa ideia ao máximo com uma conta gratuita", "Tap to make the most out of this idea with a free account", "mweb.unauth.plp.clickable_wash.header", undefined, true);return(0,g.jsx)(i.iP,{onMouseEnter:()=>{k&&(0,h.My)("dweb.main_pin.social.wash.view"),(0,h.My)("dweb.pin.wash.view")},onMouseLeave:()=>{k?o({action:"dismiss",item:"main-pin-social-wash"}):o({action:"dismiss",item:"main-pin-wash"})},onTap:({event:e})=>{p&&(e.preventDefault(),o({action:"click",item:"pin-image"}),a&&s&&o({action:"click",item:"main-pin-social-wash"}),o({action:"click",item:"main-pin-image-signup-modal"}),d({reason:"UPSELL_LOGIN_OR_SIGNUP",attributionLabel:"click_closeup",desktopOptions:{modalType:"signup",modalOptions:{source:"defaultSource",container:"pinWash"}}}),l&&o({action:"click",item:"pdp-pin-image"}))},children:(0,g.jsxs)(i.xu,{zIndex:new i.Ry(2),children:[(0,g.jsx)(i.xu,{ref:c,alignItems:"center",bottom:!0,"data-test-id":"main-pin-hover-overlay",direction:"column",display:"flex",height:"100%",justifyContent:a?"center":void 0,left:!0,position:"absolute",right:!0,top:!0,width:"100%",children:(0,g.jsx)(i.xu,{alignItems:"center",direction:"column",display:"flex",maxWidth:240,paddingY:10,children:(0,g.jsx)(i.xu,{marginTop:8,children:(0,g.jsx)(i.X6,{align:"center",color:"light",size:k?"500":"400",children:p?_||S:F})})})}),!p&&(0,g.jsx)(i.xu,{marginEnd:4,marginTop:4,position:"absolute",right:!0,top:!0,children:(0,g.jsx)(i.hU,{accessibilityLabel:r.bt("Botão clicável para fechar o Pin", "Close pin clickable wash", "mweb.unauth.plp.clickable_wash.close_button", undefined, true),icon:"cancel",iconColor:"white",onClick:({event:l})=>{l.stopPropagation(),e&&(e(!1),o({action:"dismiss",item:"main-pin-hover-overlay"}))},size:"md"})})]})})}var _=a(174281),S=a(810052);let F=e=>{let l=(0,t.ZP)(),{alt:a,clickthroughOverlayOptions:c,color:m,isFlashlightPage:h,naturalHeight:y,naturalWidth:F,placeholder:f,pinImageResizePercent:T=100,pwtElementTimingId:x,pwtSurfaceContext:P,setShowClickthroughOverlay:K,showSpinner:b,src:v,stickyFooter:L,isEligibleForPdp:E}=e,w=!(0,d.Z)(),{isAuthenticated:A}=(0,r.B)(),C=(0,u.ZP)(),D="desktop"===C,I=(0,n.useRef)(),[j,M]=(0,n.useState)(!w||!!v&&!!f&&f===v),R=(0,n.useRef)(""),O=()=>{P&&P.markConstraintComplete("PinPageMainImageRendered")};(0,n.useEffect)(()=>{let e=new Image;e.onload=()=>M(!0),e.src=v},[]);let N=(0,n.useRef)(S.a()?.setHasScrolledPastMainContent);(0,n.useEffect)(()=>{let e=(0,o.Z)(()=>{if(I.current){let l=window.scrollY>I.current.offsetTop+I.current.offsetHeight;N.current?.(l),l&&window.removeEventListener("scroll",e)}},10);window.addEventListener("scroll",e)},[]);let[H,Z]=(0,n.useState)();(0,n.useEffect)(()=>{I.current&&Z(I.current.scrollHeight)},[]);let U=!h&&"tablet"===C,B=w?(0,g.jsx)(s.Z,{alt:a,color:m,elementTiming:x,naturalHeight:y,naturalWidth:F,onLoad:O,src:f}):null;return(0,g.jsxs)(i.xu,{ref:I,dangerouslySetInlineStyle:{__style:{transition:100===T?"":"width 500ms ease-in-out"}},"data-test-id":"pin-closeup-image",maxHeight:"100%",maxWidth:"tablet"===C?_.g6:void 0,minHeight:100===T?H:void 0,overflow:L?void 0:"hidden",position:"relative",rounding:h||"phone"===C?0:6,width:h||"phone"===C?`${T}%`:D?508:_.Hg,children:[!A&&c&&(0,g.jsx)(p,{isImagePinForUnauthOnTablet:!1,children:(0,g.jsx)(k,{inviterFirstName:R.current,isEligibleForPdp:E,setShowClickthroughOverlay:K})}),B&&(U?(0,g.jsx)(i.xu,{overflow:"hidden",rounding:6,children:B}):B),(0,g.jsx)(i.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{opacity:j?1:0,transition:j&&!D?"opacity .5s ease-in-out":void 0,backgroundColor:m}},left:!0,overflow:U?"hidden":void 0,position:w?"absolute":"relative",right:!0,rounding:U?6:5,top:!0,children:w?(0,g.jsx)(i.Ee,{alt:a,naturalHeight:y,naturalWidth:F,src:v}):(0,g.jsx)(s.Z,{alt:a,color:m,elementTiming:x,naturalHeight:y,naturalWidth:F,onLoad:O,src:v})}),b&&(0,g.jsx)(i.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{opacity:j?0:1,transition:j?"opacity .5s ease-in-out":void 0}},display:"flex",justifyContent:"center",left:!0,position:"absolute",right:!0,top:!0,children:!j&&(0,g.jsx)(i.kC,{alignItems:"center",justifyContent:"start",children:(0,g.jsx)(i.$j,{accessibilityLabel:l.bt("Carregando imagem", "Loading image", "Loading higher resolution image", undefined, true),show:!0})})}),L]})}},174281:(e,l,a)=>{"use strict";a.d(l,{$K:()=>r,D5:()=>s,Hg:()=>i,g6:()=>t,w6:()=>n});let n=(e,l)=>Array.from({length:l-e},(l,a)=>a+e),i=508,t=600,s=()=>{let e=new URL(window.location.href),l=e.hostname.replace("www.",""),a=e.pathname;return a=a.replace(/\/\d+\//,"/").replace(/\/$/,""),`${l}${a}`};function r(e){return null!=e}},944846:(e,l,a)=>{"use strict";a.d(l,{By:()=>y,IT:()=>m,N6:()=>o,br:()=>u,jq:()=>c,lU:()=>p,mk:()=>g,tq:()=>d});var n=a(372085);let i=e=>({type:"CLEAR_RECENT_SEARCH",payload:{query:e}}),t=()=>({type:"CLEAR_RECENT_SEARCHES"}),s=e=>({type:"CLEAR_RECENT_PERSONAL_SEARCH",payload:{query:e}}),r=()=>({type:"CLEAR_RECENT_PERSONAL_SEARCHES"}),o=(e,l)=>({type:"UPDATE_CURRENT_SEARCH",payload:{query:e,scope:l}}),u=(e,l)=>({type:"UPDATE_RECENT_SEARCHES",payload:{query:e,scope:l}}),d=e=>({type:"UPDATE_RECENT_SEARCHES_BATCH",payload:{data:e}}),c=(e,l,a)=>({type:"UPDATE_TYPEAHEAD_CACHE",payload:{items:e,term:l,recent_queries_tags:a}}),g=e=>({type:"SET_ANIMATION_ON_BODY_FILTER",payload:{animated:e}}),p=(e,l,a)=>i=>{(0,n.Z)({url:"/v3/search/recent/",method:"DELETE",data:{vertical:e}}).then(l,a),i("PERSONAL"===e?r():t())},m=(e,l,a,t,r)=>o=>{a||(0,n.Z)({url:"/v3/search/recent/",method:"DELETE",data:{query:e,vertical:l}}).then(t,r),o("PERSONAL"===l?s(e):i(e))},h=e=>({type:"RELOAD_VISUAL_SEARCH_ANNOTATIONS",payload:{pinId:e}}),y=e=>l=>{l(h(e))}},925e3:(e,l,a)=>{"use strict";a.d(l,{Z:()=>eB});var n,i,t,s=a(554786),r=a(149722),o=a(667294);a(167912);var u=a(616550),d=a(883119),c=a(54977),g=a(405459),p=a(140017),m=a(340523),h=a(603642),y=a(757640),k=a(689390),_=a(545007),S=a(207229),F=a(214877),f=a(213377),T=a(901855),x=a(406893),P=a(179425),K=a(734851),b=a(627408),v=a(160567),L=a(624797),E=a(494125);function w(e,l){let a=0,n=!1,i=-1;return e.forEach((e,t)=>{let{x:s=0,y:r=0,h:o=0,w:u=0}=e,d=function(e,l){let{x:a,y:n,w:i,h:t}=e,{x:s,y:r,w:o,h:u}=l,d=Math.max(a,s),c=Math.min(a+i,s+o),g=Math.max(n,r),p=Math.min(n+t,r+u),m=d<c&&g<p?(c-d)*(p-g):0;return m/(i*t+o*u-m)}(l,{x:s,y:r,h:o,w:u});d>=.9&&d>a&&(a=d,n=!0,i=t)}),{isCropAreaOnDotArea:n,dotIndexToHide:i}}var A=a(250790),C=a(40770),D=a(755453),I=a(801690),j=a(989418),M=a(771881),R=a(696534),O=a(125768),N=a(785893);function H({handleBackClick:e,viewParameter:l,viewType:a}){let n=(0,R.vs)();return(0,N.jsx)(d.xu,{"data-test-id":"cancelButton",left:!0,margin:2,position:"fixed",top:!0,children:(0,N.jsx)(O.Z,{color:n?"darkGray":"white",disableRedirect:!0,icon:"cancel",isVisualSearch:!0,onTouch:e,padding:3,size:"lg",viewParameter:l,viewType:a})})}var Z=a(587703),U=a(429218),B=a(349715),z=a(913574),V=a(49808),W=a(957435),G=a(336184);function Y({pinDominantColor:e,url:l,closeupImageWidth:a,closeupImageHeight:n}){let i=(0,p.ZP)();return(0,N.jsx)(G.Z,{alt:i.bt("Imagem do Pin", "Pin image", "flashlight.cropper.closeupImage", undefined, true),color:e,isFlashlightPage:!0,naturalHeight:n,naturalWidth:a,placeholder:l,showSpinner:!1,src:l})}let $=e=>{let{alt:l,src:a,top:n,left:i}=e;return(0,N.jsx)(d.xu,{dangerouslySetInlineStyle:{__style:{top:n,left:i}},height:24,position:"absolute",width:24,children:(0,N.jsx)(d.Ee,{alt:l,color:"transparent",naturalHeight:24,naturalWidth:24,src:a})})},q={backgroundColor:"#000000",opacity:"0.4"};function Q({closeupImageUrl:e,closeupImageDims:l,cropArea:{x:a,y:n,w:i,h:t},disableBorder:s,disableHandles:r,handleBackClick:o,onTouchEnd:u,onTouchMove:c,onTouchStart:g,pinDominantColor:m,showBackButton:h,viewParameter:y}){let k=(0,p.ZP)(),{closeupImageWidth:_,closeupImageHeight:S}=l,F=Math.floor(S*n),f=Math.floor(_*a),T=Math.floor(S*t),x=Math.floor(_*i),P=f+x,K=F+T;return(0,N.jsxs)(d.xu,{"data-test-id":"cropper-container",onTouchEnd:u,onTouchMove:c,onTouchStart:g,position:"relative",children:[(0,N.jsx)(Y,{closeupImageHeight:S,closeupImageWidth:_,pinDominantColor:m,url:e??""}),(0,N.jsx)(d.xu,{dangerouslySetInlineStyle:{__style:q},height:F,left:!0,position:"absolute",top:!0,width:"100%"}),(0,N.jsx)(d.xu,{dangerouslySetInlineStyle:{__style:{...q,top:F}},height:T,left:!0,position:"absolute",width:f}),(0,N.jsx)(d.xu,{dangerouslySetInlineStyle:{__style:{...q,top:F,left:P}},height:T,position:"absolute",right:!0}),(0,N.jsx)(d.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{...q,top:K}},left:!0,position:"absolute",width:"100%"}),h&&(0,N.jsx)(H,{handleBackClick:o,viewParameter:y,viewType:427}),!r&&(0,N.jsxs)(d.xu,{"data-test-id":"CropperHandles",children:[(0,N.jsx)($,{alt:k.bt("Alça de corte superior esquerda", "Top left cropper handle", "flashlight.cropper.topLeftHandle", undefined, true),left:f-9,src:V,top:F-9}),(0,N.jsx)($,{alt:k.bt("Alça de corte superior direita", "Top right cropper handle", "flashlight.cropper.topRightHandle", undefined, true),left:P-15,src:W,top:F-9}),(0,N.jsx)($,{alt:k.bt("Alça de corte inferior esquerda", "Bottom left cropper handle", "flashlight.cropper.bottomLeftHandle", undefined, true),left:f-9,src:B,top:K-15}),(0,N.jsx)($,{alt:k.bt("Alça de corte inferior direita", "Bottom right cropper handle", "flashlight.Cropper.BottomLeftHandle", undefined, true),left:P-15,src:z,top:K-15})]}),(0,N.jsx)(d.xu,{dangerouslySetInlineStyle:{__style:{top:F-2,left:f-2,border:s?void 0:"2px solid #ffffff"}},"data-test-id":"CroppedArea",height:T+4,position:"absolute",rounding:2,width:x+4})]})}var J=a(520846);function X({auxData:e,onClick:l,shouldLogDotRender:a,showNoHalo:n,style:i,viewParameter:t,x:s,y:r}){let o=(0,p.ZP)(),u=(0,Z.Z)();return(0,E.Z)(()=>{a&&u({aux_data:e,element:1221,event_type:120,view_parameter:t,view_type:72})}),(0,N.jsx)("div",{"aria-label":o.bt("Selecione um item específico na imagem", "Select a specific item on image", "dot.accessibilityLabel", undefined, true),"data-test-id":"dot",onClick:l,onKeyPress:l,role:"button",style:{position:"absolute",top:r-16,left:s-16,outline:"none",...i},tabIndex:"0",children:(0,N.jsx)(d.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:n?void 0:"rgba(0, 0, 0, 0.1)",width:32,height:32,border:"none",borderRadius:32,cursor:l?"pointer":"default"}},children:(0,N.jsx)(d.xu,{alignItems:"center",color:"light",dangerouslySetInlineStyle:{__style:{boxShadow:"none",width:16,height:16,border:"none",borderRadius:16,top:8,left:8}},display:"flex",justifyContent:"center",padding:0,position:"absolute"})})})}var ee=a(922719);let el="flashlightDotPop",ea=(0,ee.Ll)([`
  ${el} {
      0% {
          opacity: 0;
          transform: scale(0);
      }

      100% {
          opacity: 1;
          transform: scale(1);
      }
  }
`,`labelReveal {
    0% {
      transform: scale(0, 1)
    }

    100% {
      transform: scale(1, 1)
    }
  }
`]),en=e=>{let l=parseFloat((.1*e).toFixed(2));return{animation:`${el} 0.3s ease-out ${l}s both`}};function ei({closeupImageTop:e,imageHeight:l,imageTop:a,imageWidth:n,onDotTap:i,pinId:t,pinImageSignature:s,setCropArea:r,shouldLogDotRender:u,showNoHalo:d,viewParameter:c,visualObjects:g,visualObjectToHide:p}){let m=(0,Z.Z)();return(0,N.jsxs)(o.Fragment,{children:[(0,N.jsx)(x.Z,{unsafeCSS:ea}),g.map((o,h)=>{if(h===p)return null;let{x:y=0,y:k=0,w:_=0,h:S=0}=o,F={x:y,y:k,h:S,w:_},f=(0,J.Z)({cropArea:{x:y,y:k,w:_,h:S},scaledWidth:n,scaledHeight:l}),T=Math.floor(f.x+f.w/2),x=Math.floor(f.y+a+f.h/2),P=en(h),K={pin_id:t,image_signature:s,visual_objects:JSON.stringify([F]),commerce_data:JSON.stringify({entrypoint:"flashlight",pin_is_stela:"false"})};return(0,N.jsx)(X,{auxData:K,onClick:function(){m({aux_data:K,element:1221,event_type:102,view_parameter:c,view_type:72}),i({cropArea:F,cropSource:4,visualObjects:g}),r?.(F)},shouldLogDotRender:u,showNoHalo:d,style:P,viewParameter:c,x:T,y:x-e},JSON.stringify(F))})]})}var et=a(174281);let es={OUTSIDE:0,INSIDE:1,LEFT_CROPPER:2,RIGHT_CROPPER:3,TOP_CROPPER:4,BOTTOM_CROPPER:5,TOP_LEFT_HANDLE:6,TOP_RIGHT_HANDLE:7,BOTTOM_LEFT_HANDLE:8,BOTTOM_RIGHT_HANDLE:9,NONE:10};function er({closeupImageUrl:e,closeupImageDims:l,cropArea:a,handleBackClick:n,handleChangeCloseupImageTop:i,handleCropperChange:t,headerHeight:s,inUnifiedFeedExp:r,pinDominantColor:u,pinId:c,pinImageSignature:g,showBackButton:p,viewParameter:m,visualObjects:h,visualObjectToHide:y}){let k=(0,Z.Z)(),_=(0,o.useRef)(),[S,F]=(0,o.useState)(0),[f,T]=(0,o.useState)(0),[x,P]=(0,o.useState)(es.NONE),[K,b]=(0,o.useState)(a),{current:v}=(0,U.Z)(),{x:L,y:E,w,h:A}=K,{closeupImageTop:C,closeupImageMinTop:D,closeupImageWidth:I,closeupImageHeight:j,minCropperWidthRatio:M,minCropperHeightRatio:R}=l,O=s||0,H=(e,l)=>{let a=l-C,n=e-(_.current?_.current.getBoundingClientRect().left:0),i=j*E,t=j*(E+A),s=I*L,r=I*(w+L);if(a>i+12&&a<t-12&&n>s+12&&n<r-12)return es.INSIDE;if(n<=s+12&&n>=s-12&&a>=i+15&&a<=t-15)return es.LEFT_CROPPER;if(n<=r+12&&n>=r-12&&a>=i+15&&a<=t-15)return es.RIGHT_CROPPER;if(n<=r-15&&n>=s+15&&a>=i-12&&a<=i+12)return es.TOP_CROPPER;if(n<=r-15&&n>=s+15&&a>=t-12&&a<=t+12)return es.BOTTOM_CROPPER;if(n<=s-9+24&&n>=s-12&&a>=i-12&&a<=i+24-9)return es.TOP_LEFT_HANDLE;if(n<=r+12&&n>=r-15&&a>=i-12&&a<=i+24-9)return es.TOP_RIGHT_HANDLE;else if(n<=s-9+24&&n>=s-12&&a>=t-15&&a<=t+12)return es.BOTTOM_LEFT_HANDLE;else if(n<=r+12&&n>=r-15&&a>=t-15&&a<=t+12)return es.BOTTOM_RIGHT_HANDLE;else return es.OUTSIDE};return(0,N.jsx)(d.kC,{justifyContent:"center",width:"100vw",children:(0,N.jsxs)(d.xu,{ref:_,dangerouslySetInlineStyle:{__style:{top:C,touchAction:"none"}},maxWidth:et.g6,overflow:"hidden",position:"fixed",width:"100%",children:[(0,N.jsx)(Q,{closeupImageDims:l,closeupImageUrl:e,cropArea:K,handleBackClick:n,onTouchEnd:()=>{[es.NONE,es.OUTSIDE].includes(x)||(k({event_type:x===es.INSIDE?7603:7604,view_parameter:m,view_type:72}),t({cropArea:K,cropSource:6,visualObjects:h}))},onTouchMove:e=>{let{clientX:l,clientY:a}=e.touches[0];if(F(l),T(a),x===es.NONE&&P(H(l,a)),null!=M&&null!=R&&null!=D){let e=a-f,n=(l-S)/I,t=e/j,s=Math.min(L+w-M,Math.max(0,L+n)),r=w+(L-s),o=Math.min(E+A-R,Math.max(0,E+t)),u=A+(E-o),d=Math.min(1-L,Math.max(M,w+n)),c=Math.min(1-E,Math.max(R,A+t));switch(x){case es.OUTSIDE:i(Math.floor(Math.max(D,Math.min(O,C+e))));break;case es.INSIDE:b(e=>({...e,x:Math.max(0,Math.min(1-w,L+n)),y:Math.max(0,Math.min(1-A,E+t))}));break;case es.LEFT_CROPPER:b(e=>({...e,x:s,w:r}));break;case es.RIGHT_CROPPER:b(e=>({...e,w:d}));break;case es.TOP_CROPPER:b(e=>({...e,y:o,h:u}));break;case es.BOTTOM_CROPPER:b(e=>({...e,h:c}));break;case es.TOP_LEFT_HANDLE:b({x:s,w:r,y:o,h:u});break;case es.TOP_RIGHT_HANDLE:b(e=>({...e,w:d,y:o,h:u}));break;case es.BOTTOM_LEFT_HANDLE:b(e=>({...e,h:c,x:s,w:r}));break;case es.BOTTOM_RIGHT_HANDLE:b(e=>({...e,h:c,w:d}))}}},onTouchStart:e=>{let{clientX:l,clientY:a}=e.touches[0];F(l),T(a),P(es.NONE)},pinDominantColor:u,showBackButton:p,viewParameter:m}),!!h.length&&0!==j&&0!==I&&(0,N.jsx)(d.xu,{"data-test-id":"FlashlightDots",children:(0,N.jsx)(ei,{closeupImageTop:C,imageHeight:j,imageTop:C,imageWidth:I,onDotTap:t,pinId:c,pinImageSignature:g,setCropArea:b,shouldLogDotRender:!v,showNoHalo:r,viewParameter:m,visualObjects:h,visualObjectToHide:y})})]})})}var eo=a(254292),eu=a(676554);let ed=e=>({type:"SET_FLASHLIGHT_CROP_SOURCE",payload:{cropSource:e}});var ec=a(944846),eg=a(670633),ep=a(774812),em=a(105737),eh=a(207993),ey=a(30378),ek=a(5859),e_=a(55202),eS=a(217058),eF=a(623409),ef=a(943484);function eT(e,l,a){var n;return(l="symbol"==typeof(n=function(e,l){if("object"!=typeof e||null===e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var n=a.call(e,l||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===l?String:Number)(e)}(l,"string"))?n:String(n))in e?Object.defineProperty(e,l,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[l]=a,e}let ex={baseStyles:{transitionProperty:"transform, opacity",transitionTimingFunction:"ease-out",transformOrigin:"bottom",touchAction:"none"}},eP={NONE:0,UP:1,DOWN:2};class eK extends o.Component{constructor(...e){super(...e),eT(this,"state",{currentDistanceFromTop:this.props.maxDistanceFromTop?this.props.maxDistanceFromTop:-1,headerHeight:this.props.headerHeight||0,isAtTop:!1,scrollDirection:eP.NONE,shouldAnimate:!1,startY:0,canScrollOnChildren:!1}),eT(this,"onTouchStart",e=>{let{clientY:l}=e.touches[0];this.setState({startY:l,shouldAnimate:!1,scrollDirection:eP.NONE})}),eT(this,"onTouchMove",e=>{let{clientY:l}=e.touches[0],{startY:a,currentDistanceFromTop:n}=this.state,{canMoveModal:i,maxDistanceFromTop:t}=this.props,s=l-a;i&&void 0!==t&&(s>0&&n>=0&&n<t&&window.scrollY<=0||s<0&&n<=t&&n>=0)&&this.setModalPosition(l)}),eT(this,"onTouchEnd",()=>{let{entryPoint:e,minDistanceFromTop:l,canMoveModal:a}=this.props;this.props.shouldSnapToEnds&&this.state.scrollDirection===eP.DOWN?(this.header&&ey.Z.removeObstruction("top",this.header),this.setState({canScrollOnChildren:!1,currentDistanceFromTop:this.props.maxDistanceFromTop,shouldAnimate:!0,isAtTop:!1}),e&&(0,eS.My)(`mweb.${e}.snap_to_bottom`)):this.props.shouldSnapToEnds&&this.state.scrollDirection===eP.UP&&(this.state.isAtTop?this.setState({currentDistanceFromTop:0,shouldAnimate:!0}):this.setState({canScrollOnChildren:a,currentDistanceFromTop:l||0,shouldAnimate:!0,isAtTop:!0}),this.header&&ey.Z.addObstruction("top",this.header),e&&(0,eS.My)(`mweb.${e}.sliding_modal.snap_to_top`))}),eT(this,"handleHandleMove",e=>{let{clientY:l}=e.touches[0],{canMoveModal:a,maxDistanceFromTop:n,minDistanceFromTop:i}=this.props,{startY:t,currentDistanceFromTop:s}=this.state;a&&s<=(i||0)&&l-t>0&&(e.stopPropagation(),this.setState({canScrollOnChildren:!1,currentDistanceFromTop:n,isAtTop:!1,scrollDirection:eP.NONE,shouldAnimate:!0,startY:0}))}),eT(this,"handleHeaderTouch",()=>{let{maxDistanceFromTop:e,minDistanceFromTop:l,entryPoint:a,canMoveModal:n}=this.props,{currentDistanceFromTop:i,scrollDirection:t}=this.state;t===eP.NONE&&(i===e?(this.setState({canScrollOnChildren:n,currentDistanceFromTop:l||0,shouldAnimate:!0,isAtTop:!0}),(0,eS.My)(`mweb.${a}.sliding_modal.header_touch.snap_to_top`)):e&&(this.setState({canScrollOnChildren:!1,currentDistanceFromTop:e,shouldAnimate:!0,isAtTop:!1}),(0,eS.My)(`mweb.${a}.sliding_modal.header_touch.snap_to_bottom`)))}),eT(this,"handleCloseIconTouch",e=>{let{currentDistanceFromTop:l}=this.state,{onDismiss:a,logContextEvent:n,maxDistanceFromTop:i,viewParameter:t,viewType:s}=this.props;e.stopPropagation(),a&&(n({aux_data:{commerce_data:JSON.stringify({snapped_top:0===l})},element:75,event_type:102,view_parameter:t,view_type:s}),this.setState({currentDistanceFromTop:i,startY:0,scrollDirection:eP.NONE},()=>a(e)))}),eT(this,"getModalStyles",()=>{let{shouldSnapToEnds:e}=this.props,{currentDistanceFromTop:l,shouldAnimate:a,canScrollOnChildren:n}=this.state,{baseStyles:i}=ex;return{...i,animation:"modalReveal 0.3s ease-out both",position:n?"absolute":"fixed",top:l>-1?l:void 0,bottom:0,width:"100vw",...e&&a?{transitionDuration:"500ms",transitionProperty:"transform, opacity, top"}:Object.freeze({})}}),eT(this,"setModalPosition",e=>{let{startY:l,currentDistanceFromTop:a}=this.state,{maxDistanceFromTop:n,snapToEndThreshold:i,entryPoint:t}=this.props;if(n){let s=e-l,r=Math.floor("CloseupShop"===t||"CloseUpMainPinDrawer"===t?Math.max(0,a+s):Math.min(n,Math.max(0,a+s))),o=eP.NONE;if(void 0!==i&&i>=0){let e=Math.floor(i*n),l=Math.floor((1-i)*n);s<0?o=r>l?eP.DOWN:eP.UP:s>0&&(o=r>e?eP.DOWN:eP.UP)}this.setState({startY:e,currentDistanceFromTop:r,scrollDirection:o})}})}componentDidMount(){let{isOpen:e}=this.props;e&&ey.Z.pause()}componentDidUpdate(e,l){let{domainFilters:a,priceFilters:n,cropSource:i,isOpen:t,logContextEvent:s,maxDistanceFromTop:r,setHasDraggedDrawerToFullScreen:o,minDistanceFromTop:u,entryPoint:d}=this.props,{currentDistanceFromTop:c}=this.state;t&&!e.isOpen?ey.Z.pause():!t&&e.isOpen&&ey.Z.resume(),"CloseUpMainPinDrawer"===d&&r<e.maxDistanceFromTop&&c>r&&this.handleHeaderTouch(),l.currentDistanceFromTop!==(e.minDistanceFromTop||0)&&c===(u||0)&&o&&o(!0),a&&n&&(!(0,em.ZP)(a,e.domainFilters)||!(0,em.ZP)(n,e.priceFilters))&&s({event_type:13,view_parameter:"related_products"===(0,ef.Z)(i)?3455:3456,view_type:72,element:11735})}componentWillUnmount(){let{isOpen:e}=this.props;this.header&&ey.Z.removeObstruction("top",this.header),e&&ey.Z.resume()}render(){let{children:e,headerChildren:l,heading:a,inUnifiedFeedExp:n,isOpen:i,isRTL:t,mobileAccessibilityCloseIconLabel:s,mobileHideCloseIcon:r,noDivider:o,showHandle:u}=this.props,{headerHeight:c,canScrollOnChildren:g}=this.state,p=!g&&n?"32px 32px 0 0":"0";return i?(0,N.jsx)(e_.Z,{children:(0,N.jsx)(d.xu,{"aria-label":a,role:"dialog",children:(0,N.jsx)(d.xu,{color:"default",dangerouslySetInlineStyle:{__style:{...this.getModalStyles(),borderRadius:p}},onTouchEnd:this.onTouchEnd,onTouchMove:this.onTouchMove,onTouchStart:this.onTouchStart,children:(0,N.jsxs)(d.iP,{accessibilityLabel:this.props.i18n.bt("Ver todos os resultados da pesquisa", "View all search results", "SlidingModal.Header.a11yLabel", undefined, true),onTap:this.handleHeaderTouch,children:[(0,N.jsxs)(d.Le,{top:c||0,children:[u&&(0,N.jsx)(d.xu,{color:"default",dangerouslySetInlineStyle:{__style:{padding:"8px 0 24px 0",borderRadius:p}},"data-test-id":"slidingModalHandle",display:"flex",justifyContent:"center",onTouchMove:this.handleHandleMove,children:eh.Z}),!r&&(0,N.jsxs)(d.xu,{ref:e=>{this.header=e},color:"default",rounding:2,children:[(0,N.jsxs)(d.kC,{alignItems:"center",flex:"grow",justifyContent:"start",children:[(0,N.jsx)(d.kC,{alignItems:"center",justifyContent:"start",children:(0,N.jsx)(d.hU,{accessibilityLabel:s||"Close visual search results",icon:"arrow-back",iconColor:"gray",onClick:({event:e})=>this.handleCloseIconTouch(e),padding:5,size:"lg"})}),(0,N.jsx)(d.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:function({filterIconShown:e,isRTL:l}){let a=l?"marginRight":"marginLeft",n=l?"marginLeft":"marginRight";return e?{[a]:38,[n]:50,marginTop:15,marginBottom:15}:{[a]:-10,[n]:50,marginTop:15,marginBottom:15}}({isRTL:t})},"data-test-id":"slidingModalHeader",display:"flex",flex:"grow",justifyContent:"center",children:(0,N.jsx)(d.X6,{accessibilityLevel:2,align:"center",size:"400",children:a})})]}),l||null,!o&&(0,N.jsx)(d.iz,{})]})]}),(0,N.jsx)(d.xu,{overflow:g?"auto":"visible",children:e})]})})})}):null}}function eb(e){let l=(0,p.ZP)(),a=(0,Z.Z)(),{isRTL:n}=(0,ek.B)(),i=(0,eF.Z)();return(0,N.jsx)(eK,{...e,i18n:l,isRTL:n,logContextEvent:a,trackInteraction:i})}let ev=`
  html, body {
    overscroll-behavior: none;
  }
`;function eL(){return Math.min(et.g6,window.innerWidth)}function eE(e,l){return Math.floor(eL()/l*e)}function ew(e,l){let a=0,n=0,i=0;if(e&&e.imageSpec_736x){var t,s;let l=e?e.imageSpec_736x:null;a=eL(),n=eE(l?.height??1,l?.width??1),t=l?.height??1,s=l?.width??1,i=Math.min(Math.floor(.6*window.innerHeight),eE(t,s))}return{closeupImageWidth:a,closeupImageHeight:n,closeupImageMinTop:i-n,closeupImageTop:l||0,minCropperWidthRatio:a?50/a:0,minCropperHeightRatio:n?50/n:0,modalTop:i}}function eA(e,l,a,n,i){let t=a?Number(a):.4,s=n?Number(n):.1;return e>0&&l>0&&(a||(t=(l-2*l*.1-i)/e),n||(s=.1*l/e)),{h:t,y:s}}function eC({cropArea:e,cropSource:l,headerHeight:a,inUnifiedFeedExp:n,isShopTheLookFeed:i,pin:t,pinId:s,queryH:c,queryY:g,requestParams:m,searchResourceOptions:h,setCropSource:y,setState:k,state:v,surfaceType:L,visualSearchFlashlightUnifiedResource:A}){let C=(0,p.ZP)(),{logContextEvent:R}=(0,F.v)(),O=(0,_.I0)(),Z=(0,u.k6)(),{previous:U}=(0,T.Hv)(),B=(0,u.TH)(),{isAuth:z}=(0,r.Z)(),{width:V=0}=(0,S.Z)()||{},W=(t?.visualObjects??[]).filter(e=>e.isStela).map(e=>{let{isStela:l,title:a,label:n,labelId:i,labelX:t,labelY:s,maxAnnotationNumDocuments:r,score:o,showOnCloseup:u,x:d,y:c,h:g,w:p}=e;return{is_stela:l??!1,title:a??"",label:n??"",label_id:i??"",label_x:t??0,label_y:s??0,max_annotation_num_documents:r??0,score:o??0,show_on_closeup:u??!1,x:d??0,y:c??0,h:g??0,w:p??0}}),[G,Y]=(0,o.useState)(w(W,e)),{isCropAreaOnDotArea:$,dotIndexToHide:q}=G,Q=e=>O((0,ec.By)(e)),J=e=>O(ed(e)),{data:X,fetchMore:ee,isAtEnd:el,isFetching:ea,isLoaded:en}=A||{},ei=X?.results||[],et=ei.find(e=>"story"===e.type),es=!!et&&"stl"!==L,em=ei.flatMap(e=>"pin"===e.type?e:[]),{url:eh=`/pin/${s}`,text:ey=""}=et?.action||{},ek=C.bt("Comprar semelhantes", "Shop similar", "mobileFlashlight.productUpsellTitle", undefined, true),e_=C.bt("Pesquisa de imagem", "Image search", "mobileFlashlight.organicFeedTitle", undefined, true),eS=C.bt("Shop the Look", "Shop the look", "mobileFlashlight.shopTheLookFeedTitle", undefined, true),eF=i?eS:e_,ef=C.bt("Busca visual", "Visual search", "Visual search results", undefined, true),eT=n||i,{closeupImageWidth:ex,modalTop:eP}=v.closeupImageDims,eK=t?.imageSpec_736x?.url??"",eL=V-60<ex&&eT,eE=!eL&&eT;function eC(){if(0===U.length){Z.replace(`/pin/${s}/`);return}Z.goBack()}let[eD,eI]=(0,o.useState)(0),[ej,eM]=(0,o.useState)(0),[eR,eO]=(0,o.useState)(!1),[eN,eH]=(0,o.useState)(!1),[eZ,eU]=(0,o.useState)(void 0);function eB(){eH(!1),eO(!1),eU(void 0)}function ez(e,l){"vertical"!==l&&e.stopPropagation()}let eV=!!t,eW=(0,o.useMemo)(()=>ew(t,a),[t?.entityId,a]);if((0,o.useEffect)(()=>{if(eV){let{closeupImageHeight:e,modalTop:l=0}=eW,n=eA(e,l,Number(c),Number(g),a||0);k(e=>({...e,closeupImageDims:eW,...n}))}},[eV,eW]),(0,E.Z)(()=>{J(l)}),!t||0===eP)return null;let{auxData:eG,viewType:eY,viewParameter:e$}=function({cropSource:e,inUnifiedFeedExp:l,isCropAreaOnDotArea:a,isProductPage:n,surfaceType:i}){let t=l||"stl"===i,s=4===e||a,r=n?"product":"stl"===i?s?"product":"organic":l&&s?"unified":"organic";return{auxData:(()=>{let e=e=>({commerce_data:JSON.stringify({is_product_only_feed:e})});return"product"===r?e(!0):"unified"===r?e(!1):t?e(!1):void 0})(),viewType:"product"===r?427:72,viewParameter:"organic"===r?3050:3462}}({cropSource:l,inUnifiedFeedExp:n,isCropAreaOnDotArea:$,isProductPage:!1,surfaceType:L});function eq(){R({component:14339,element:179,event_type:102,view_parameter:e$,view_type:eY})}return(0,N.jsxs)(o.Fragment,{children:[(0,N.jsx)(x.Z,{unsafeCSS:ev}),(0,N.jsx)(I.Z,{auxData:eG,viewParameter:e$,viewType:eY,children:(0,N.jsx)(b.Z,{view:eY,children:(0,N.jsxs)(P.default,{hasFixedHeader:!0,hasGutter:!1,children:[(0,N.jsx)(eo.Z,{text:C.bt("Página da Busca Visual", "Visual Search Page", "flashlight.accessibilityhiddenheading.fullpage", undefined, true)}),(0,N.jsx)(d.xu,{color:"dark",height:"100vh",width:"100vw"}),(0,N.jsx)(er,{closeupImageDims:v.closeupImageDims,closeupImageUrl:eK,cropArea:e,handleBackClick:eC,handleChangeCloseupImageTop:function(e){k(l=>({...l,closeupImageDims:{...l.closeupImageDims,closeupImageTop:e}}))},handleCropperChange:function({cropArea:e,cropSource:l,visualObjects:a}){J(l),Q(s),Y(w(a,e)),y(l),k(l=>({...l,...e})),Z.replace((0,D.Z)({cropArea:e,cropSource:l,isProductPage:!1,pinId:s,requestParams:m,surfaceType:L}))},headerHeight:a,inUnifiedFeedExp:eT,pinDominantColor:t.dominantColor||"#efefef",pinId:s,pinImageSignature:t.imageSignature,showBackButton:eL,viewParameter:e$,visualObjects:W,visualObjectToHide:q}),eE&&(0,N.jsx)(H,{handleBackClick:eC,viewParameter:e$,viewType:427}),(0,N.jsxs)(eb,{canMoveModal:!0,cropSource:l,entryPoint:"flashlight",headerHeight:a,heading:ef,inUnifiedFeedExp:eT,isOpen:!0,location:B,maxDistanceFromTop:eP||0,minDistanceFromTop:z?60:a,mobileAccessibilityCloseIconLabel:C.bt("Fechar resultados da busca visual", "Close visual search results", "close visual search results and go back to pin", undefined, true),mobileHideCloseIcon:eT,noBorder:!0,noDivider:!0,noMaskOnBackground:!0,onDismiss:eC,pinId:s,shouldSnapToEnds:!0,showHandle:eT,snapToEndThreshold:.3,viewParameter:e$,viewType:eY,children:[(0,N.jsx)(d.$j,{accessibilityLabel:C.bt("Carregando os resultados da Busca Visual", "Loading visual search results", "mobileFlashlightPage.loadingSpinner", undefined, true),show:eT&&!en}),eT&&en&&(0,N.jsxs)(o.Fragment,{children:[es&&(0,N.jsxs)(o.Fragment,{children:[(0,N.jsxs)(d.xu,{alignItems:"center",direction:"row",display:"flex",justifyContent:"between",marginBottom:2,paddingX:4,children:[(0,N.jsx)(d.Tg,{href:eh,onTap:({event:e})=>{e.stopPropagation(),eq()},tapStyle:"compress",children:(0,N.jsx)(d.X6,{accessibilityLevel:2,size:"400",children:ek})}),(0,N.jsx)(d.I_,{accessibilityLabel:ey||C.bt("Ver mais", "See more", "headerModule.headerModuleActionButton.iconButton", undefined, true),bgColor:"transparent",dataTestId:"product-upsell-action-button",href:eh,icon:"arrow-forward",iconColor:"darkGray",onClick:eq,size:"sm"})]}),(0,N.jsx)(d.xu,{dangerouslySetInlineStyle:{__style:{touchAction:"pan-x",overflowY:"hidden"}},onTouchEnd:function(e){ez(e,eZ),eB()},onTouchMove:function(e){let{clientX:l,clientY:a}=e.touches[0],n=Math.abs(l-eD);Math.abs(a-ej)>10&&eO(!0),n>10&&eH(!0),eN&&eR?eU(e=>e||"vertical"):eN?eU(e=>e||"horizontal"):eR?eU(e=>e||"vertical"):eU(void 0),ez(e,eZ)},onTouchStart:function(e){let{clientX:l,clientY:a}=e.touches[0];eI(l),eM(a),eB()},children:(0,N.jsx)(K.default,{component:14339,disableHeader:!0,story:et,storyKey:et?{type:"deprecated",data:et}:null,surface:"ShoppingDynamicHeightGrid",view:eY,viewParameter:e$})})]}),(0,N.jsx)(d.xu,{marginBottom:3,paddingX:4,children:(0,N.jsx)(d.X6,{accessibilityLevel:2,size:"400",children:eF})}),(0,N.jsx)(d.xu,{color:"default",dangerouslySetInlineStyle:{__style:{touchAction:"pan-y"}},paddingX:f.D6,children:(0,N.jsx)(ep.Z,{feedItems:em,feedKey:(0,eg.J)("VisualSearchFlashlightUnifiedResource",h)??"",pagination:{loadNext:ee||(()=>void 0),hasNext:!el,isLoadingNext:ea||!1,refetch:()=>void 0},renderFeedItem:(e,l)=>(0,N.jsx)(M.cn,{children:(0,N.jsx)(eu.ZP,{auxData:eG,componentType:0,duploQueryRef:null,pinId:e.id??"",slotIndex:l,trackingParams:e.tracking_params||void 0,trafficSource:i?"shop_feed":void 0,viewParameter:e$,viewType:eY})})})})]}),!eT&&(0,N.jsx)(d.xu,{color:"default",paddingX:f.D6,children:(0,N.jsx)(j.ZP,{feedItemProps:{viewParameter:e$,viewType:eY},feedKey:(0,eg.J)("VisualLiveSearchResource",h)??"",resourceConfig:{name:"VisualLiveSearchResource",options:h},trafficSource:"flashlight"})})]})]})})})]})}function eD(e){let{searchResourceOptions:l}=e,a=(0,y.Z)({name:"VisualSearchFlashlightUnifiedResource",options:l});return(0,N.jsx)(eC,{...e,visualSearchFlashlightUnifiedResource:a})}let eI=void 0!==n?n:n=a(521990);function ej({pinKey:e}){let{checkExperiment:l}=(0,m.F)(),a=l("mweb_flashlight_unified_feed").anyEnabled||l("mweb_unified_visual_features_expansion").anyEnabled,n=(0,u.$B)(),{pinId:i}=(0,k.Z)(n.params.id||""),t=(0,u.TH)(),{cropSource:d,x:g,y:p,h,w:y,surfaceType:_,requestParams:S}=(0,L.mB)(t.search),F=_||"flashlight",{isAuth:f}=(0,r.Z)(),T=(0,s.ZP)(),x=!f&&(0,v.x9)(T)||void 0,P=(0,c.Z)(eI,e),[K,b]=(0,o.useState)(()=>{let e=ew(P,x);e.closeupImageTop=0;let{closeupImageHeight:l,modalTop:a=0}=e,n=eA(l,a,Number(h),Number(p),x||0);return{closeupImageDims:e,x:g?Number(g):.1,w:y?Number(y):.8,y:n.y,h:n.h}}),[E,w]=(0,o.useState)(()=>(0,A.Z)(Number(d))||(g&&p&&h&&y?6:5)),D={x:K.x,y:K.y,w:K.w,h:K.h},I="stl"===F&&4===E,j=(0,C.Z)({cropSource:E,isProductPage:!1,surfaceType:F}),M={cropArea:D,cropSource:E,headerHeight:x,inUnifiedFeedExp:a,isShopTheLookFeed:I,pin:P,pinId:i,queryH:h,queryY:p,requestParams:S,searchResourceOptions:{pin_id:i,crop:D,crop_source:E,is_shopping:I,entry_source:I?"shopping":"flashlight",entrypoint:j},setCropSource:w,setState:b,state:K,surfaceType:F};return a||I?(0,N.jsx)(eD,{...M}):(0,N.jsx)(eC,{...M})}var eM=a(19447);let eR=void 0!==i?i:i=a(328898),eO=void 0!==t?t:t=a(781728);function eN(){let{checkExperiment:e}=(0,m.F)(),l=(0,u.$B)(),{pinId:a}=(0,k.Z)(l.params.id||""),n=(0,s.HG)(),i=e("auth_mweb_graphql_flashlight_pinResource").anyEnabled||e("unauth_mweb_graphql_flashlight_pinResource").anyEnabled,t=(0,g.Z)({strategy:i?"GRAPHQL":"LEGACY",query:eO,variables:{pinId:a,isDesktop:n},options:{fetchPolicy:"store-or-network"},transformGraphQL:e=>e.v3GetPinQuery?.data,useGetLegacyData:({pinId:e})=>{let{data:l}=(0,y.Z)({name:"PinResource",options:{id:e,field_set_key:"detailed",fetch_visual_search_objects:!0,is_mobile_fork:!0}}),a=(0,eM.S6)()(e);return l??a}}),r=(0,c.Z)(eR,t);return(0,N.jsx)(ej,{pinKey:r})}function eH(){let e=(0,p.ZP)();return(0,N.jsx)(h.Z,{measureGridVisuallyComplete:!0,surface:"visual_search",children:(0,N.jsx)(o.Suspense,{fallback:(0,N.jsx)(d.$j,{accessibilityLabel:e.bt("Carregando dados do Pin", "Loading Pin data", "mobileFlashlightPage.loadingPinData", undefined, true),show:!0}),children:(0,N.jsx)(eN,{})})})}var eZ=a(270766),eU=a(414141);let eB=function(){let e=(0,s.HG)(),l=(0,r.Z)();return e?l.isAuth?(0,N.jsx)(eU.Z,{}):(0,N.jsx)(eZ.Z,{}):(0,N.jsx)(eH,{})}},349715:e=>{"use strict";e.exports="https://s.pinimg.com/webapp/handle_bottom_left-d4d98c77.svg"},913574:e=>{"use strict";e.exports="https://s.pinimg.com/webapp/handle_bottom_right-ccae4564.svg"},49808:e=>{"use strict";e.exports="https://s.pinimg.com/webapp/handle_top_left-68937c82.svg"},957435:e=>{"use strict";e.exports="https://s.pinimg.com/webapp/handle_top_right-4d7ae997.svg"}},e=>{var l=l=>e(e.s=l);e.O(0,[97270,83119,79968,76594,77732,21876,6575,60888,6581,9130,33731,37841,84609,34851,28186,41922,15071,21606,73759,4270,9343],()=>l(706737)),e.O()}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/www/pin/[id]/visual-search.pt_BR-ffbbea4f7ba45326.mjs.map